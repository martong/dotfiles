<?xml version="1.0"?>
<root>
  <inputsourcedef>
    <name>US</name>
    <inputsourceid_prefix>com.apple.keylayout.US</inputsourceid_prefix>
  </inputsourcedef>

  <!--<item>-->
    <!--<name>Swap Space and Tab</name>-->
    <!--<identifier>private.my_dvorak_swap_space_and_tab</identifier>-->
    <!--<inputsource_only>MY_DVORAK</inputsource_only>-->
    <!--<autogen>__KeyToKey__ KeyCode::SPACE, KeyCode::TAB</autogen>-->
    <!--<autogen>__KeyToKey__ KeyCode::TAB, KeyCode::SPACE</autogen>-->
  <!--</item>-->

  <!-- TODO use VIRTUALMACHINE from appdef.xml -->
  <appdef>
    <appname>VIRTUALBOXVM</appname>
    <equal>org.virtualbox.app.VirtualBoxVM</equal>
  </appdef>

  <appdef>
    <appname>CITRIX_RECEIVER</appname>
    <equal>com.citrix.receiver.nomas</equal>
  </appdef>

  <item>
	<name>Section(ยง) to Backquote(`) only in US layout, not in VirtualBoxVM</name>
	<identifier>remap.uk_section2backquote.only_in_us_layout</identifier>
	<not>VIRTUALBOXVM</not>
	<inputsource_only>US</inputsource_only>
	<autogen>__KeyToKey__ KeyCode::UK_SECTION, KeyCode::BACKQUOTE</autogen>
  </item>

  <item>
    <name>Option_R to Control_R (only in MacVim, iTerm, Citrix Reciever)</name>
    <identifier>remap.optionR2controlR_etx_only_in_macvim_and_iterm</identifier>
    <!-- Apps are from appdef.xml -->
    <only>VI, TERMINAL, CITRIX_RECEIVER</only>
    <autogen>__KeyToKey__ KeyCode::OPTION_R, KeyCode::CONTROL_R</autogen>
  </item>

  <item>
    <name>Swap @ and double-quote(") (only in Citrix Reciever)</name>
    <identifier>remap.uk_swap_at_doublequote_only</identifier>
    <only>CITRIX_RECEIVER</only>
    <autogen>__KeyToKey__ KeyCode::KEY_2, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_SHIFT, KeyCode::QUOTE, ModifierFlag::SHIFT_L</autogen>
    <autogen>__KeyToKey__ KeyCode::QUOTE, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_SHIFT, KeyCode::KEY_2, ModifierFlag::SHIFT_L</autogen>
  </item>

</root>
